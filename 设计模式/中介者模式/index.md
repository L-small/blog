## 中介者模式

中介者是一种**行为设计模式**，公开一个统一的接口，系统的不同部分可以通过该接口进行通信（比如JS的事件委托）。这个统一的接口持有并且知道所有的同事类，各个系统要将自身传给中介者，然后中介者去判断身份然后进行处理。

使用前的逻辑：

![WX20191202-001128@2x.png](http://ww1.sinaimg.cn/large/006FubJZly1g9hoh86wtmj30dw0cgabl.jpg)

使用后的逻辑：

![WX20191202-001142@2x.png](http://ww1.sinaimg.cn/large/006FubJZly1g9hohyuxzrj30eq0cejsm.jpg)

* 中介者模式和发布订阅模式的区别

他俩的出发点不一样，实现是可以相同的。中介者出发点是处理多个类之间的通信。观察者模式出发点是通知事件。

中介者模式解决的是类（对象）之间的网状耦合，将逻辑汇成一个类（对象），所有类（对象）都通过他来实现通信。限制对象严格通过中介进行通信来实现。

观察者模式关注的是push模型（事件发生时，发布者一次性把所有数据和状态推送给订阅者）。观察者模式创建观察者对象，观察者对象想订阅他们的对象发布其感兴趣的事件。

* 优点

将对象间的通信渠道由多对多减少为多对一。解耦了组件之间的复杂的网状关系

* 缺点

引入了单一故障点，中介者对象也是占用内存的，且随着状态复杂，中介者对象也会成为难以维护的。